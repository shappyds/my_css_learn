结构和层叠
========

## 特殊性

选择器的特殊性，对于每个规则，用户代理（通常指浏览器）都会计算选择器的特殊性，并将这个特殊性附加到该规则的各个声明上，当某个元素有多个冲突的属性声明时，那么有最高特殊性的声明就会胜出。

其中，不同的选择器有不同的特殊值：

* id属性： 加0,1,0,0
* 类属性、属性选择、伪类：0,0,1,0
* 元素、伪元素： 0,0,0,1
* 内联样式：特殊性1,0,0,0
* 结合符、通配符都特殊性没有任何贡献0,0,0,0

## 重要性

`!important`, 重要声明。并没有特殊的特殊性值。

但是，要与非重要性声明分开，所有`!important`声明都会分组在一起，重要声明的特殊性冲突会在重要分组内解决，而不会和非重要声明相混。

## 继承

继承的值没有任何特殊性，连0特殊性都没有

## 层叠

特殊值相等的两个规则同时应用到元素上，用户代理是怎么解决冲突的。

1. 找出所有相关的规则，这些规则都包含与给定元素匹配的选择器。
2. 按显式权重对所有声明排序，具体的有 **`!important`, 来源等**。
3. 按特殊性排序
4. 按出现的顺序


